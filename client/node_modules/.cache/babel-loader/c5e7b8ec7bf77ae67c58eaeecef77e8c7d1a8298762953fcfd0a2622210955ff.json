{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport clsx from 'clsx';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n  var images = props.images,\n    innerRefs = props.innerRefs;\n  var _a = useState(0),\n    index = _a[0],\n    setIndex = _a[1];\n  var _b = useState(false),\n    modalOpen = _b[0],\n    setModalOpen = _b[1];\n  var _c = useComponentContext('Gallery').ModalGallery,\n    ModalGallery = _c === void 0 ? DefaultModalGallery : _c;\n  var t = useTranslationContext('Gallery').t;\n  var countImagesDisplayedInPreview = 4;\n  var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n  var toggleModal = function (selectedIndex) {\n    if (modalOpen) {\n      setModalOpen(false);\n    } else {\n      setIndex(selectedIndex);\n      setModalOpen(true);\n    }\n  };\n  var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n    return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? React.createElement(\"button\", __assign({\n      className: 'str-chat__gallery-placeholder',\n      \"data-testid\": 'gallery-image-last',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      },\n      style: __assign({\n        backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].previewUrl || images[lastImageIndexInPreview].image_url || images[lastImageIndexInPreview].thumb_url, \")\")\n      }, image.style)\n    }, (innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && {\n      ref: function (r) {\n        return innerRefs.current[i] = r;\n      }\n    }), React.createElement(\"p\", null, t('{{ imageCount }} more', {\n      imageCount: images.length - countImagesDisplayedInPreview\n    }))) : React.createElement(\"button\", {\n      className: 'str-chat__gallery-image',\n      \"data-testid\": 'gallery-image',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      }\n    }, React.createElement(\"img\", __assign({\n      alt: 'User uploaded content',\n      src: sanitizeUrl(image.previewUrl || image.image_url || image.thumb_url),\n      style: image.style\n    }, (innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && {\n      ref: function (r) {\n        return innerRefs.current[i] = r;\n      }\n    })));\n  });\n  var className = clsx('str-chat__gallery', {\n    'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n    'str-chat__gallery-two-rows': images.length > 2\n  });\n  return React.createElement(\"div\", {\n    className: className\n  }, renderImages, React.createElement(Modal, {\n    onClose: function () {\n      return setModalOpen(function (modalOpen) {\n        return !modalOpen;\n      });\n    },\n    open: modalOpen\n  }, React.createElement(ModalGallery, {\n    images: images,\n    index: index\n  })));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);","map":{"version":3,"names":["__assign","React","useState","sanitizeUrl","clsx","Modal","ModalGallery","DefaultModalGallery","useComponentContext","useTranslationContext","UnMemoizedGallery","props","images","innerRefs","_a","index","setIndex","_b","modalOpen","setModalOpen","_c","t","countImagesDisplayedInPreview","lastImageIndexInPreview","toggleModal","selectedIndex","renderImages","slice","map","image","i","length","createElement","className","key","concat","onClick","style","backgroundImage","previewUrl","image_url","thumb_url","current","ref","r","imageCount","alt","src","onClose","open","Gallery","memo"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/Gallery/Gallery.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport clsx from 'clsx';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n    var images = props.images, innerRefs = props.innerRefs;\n    var _a = useState(0), index = _a[0], setIndex = _a[1];\n    var _b = useState(false), modalOpen = _b[0], setModalOpen = _b[1];\n    var _c = useComponentContext('Gallery').ModalGallery, ModalGallery = _c === void 0 ? DefaultModalGallery : _c;\n    var t = useTranslationContext('Gallery').t;\n    var countImagesDisplayedInPreview = 4;\n    var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n    var toggleModal = function (selectedIndex) {\n        if (modalOpen) {\n            setModalOpen(false);\n        }\n        else {\n            setIndex(selectedIndex);\n            setModalOpen(true);\n        }\n    };\n    var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n        return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? (React.createElement(\"button\", __assign({ className: 'str-chat__gallery-placeholder', \"data-testid\": 'gallery-image-last', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); }, style: __assign({ backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].previewUrl ||\n                    images[lastImageIndexInPreview].image_url ||\n                    images[lastImageIndexInPreview].thumb_url, \")\") }, image.style) }, ((innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && { ref: function (r) { return (innerRefs.current[i] = r); } })),\n            React.createElement(\"p\", null, t('{{ imageCount }} more', {\n                imageCount: images.length - countImagesDisplayedInPreview,\n            })))) : (React.createElement(\"button\", { className: 'str-chat__gallery-image', \"data-testid\": 'gallery-image', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); } },\n            React.createElement(\"img\", __assign({ alt: 'User uploaded content', src: sanitizeUrl(image.previewUrl || image.image_url || image.thumb_url), style: image.style }, ((innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && { ref: function (r) { return (innerRefs.current[i] = r); } })))));\n    });\n    var className = clsx('str-chat__gallery', {\n        'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n        'str-chat__gallery-two-rows': images.length > 2,\n    });\n    return (React.createElement(\"div\", { className: className },\n        renderImages,\n        React.createElement(Modal, { onClose: function () { return setModalOpen(function (modalOpen) { return !modalOpen; }); }, open: modalOpen },\n            React.createElement(ModalGallery, { images: images, index: index }))));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}