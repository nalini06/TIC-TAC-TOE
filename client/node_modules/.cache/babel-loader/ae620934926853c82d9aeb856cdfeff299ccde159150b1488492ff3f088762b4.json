{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { NullComponent as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport var AttachmentWithinContainer = function (_a) {\n  var _b;\n  var _c;\n  var attachment = _a.attachment,\n    children = _a.children,\n    componentType = _a.componentType;\n  var isGAT = isGalleryAttachmentType(attachment);\n  var extra = '';\n  if (!isGAT) {\n    extra = componentType === 'card' && !(attachment === null || attachment === void 0 ? void 0 : attachment.image_url) && !(attachment === null || attachment === void 0 ? void 0 : attachment.thumb_url) ? 'no-image' : ((_c = attachment === null || attachment === void 0 ? void 0 : attachment.actions) === null || _c === void 0 ? void 0 : _c.length) ? 'actions' : '';\n  }\n  var classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', (_b = {}, _b[\"str-chat__message-attachment--\".concat(componentType)] = componentType, _b[\"str-chat__message-attachment--\".concat(attachment === null || attachment === void 0 ? void 0 : attachment.type)] = attachment === null || attachment === void 0 ? void 0 : attachment.type, _b[\"str-chat__message-attachment--\".concat(componentType, \"--\").concat(extra)] = componentType && extra, _b['str-chat__message-attachment--svg-image'] = isSvgAttachment(attachment), _b['str-chat__message-attachment-with-actions'] = extra === 'actions', _b));\n  return React.createElement(\"div\", {\n    className: classNames\n  }, children);\n};\nexport var AttachmentActionsContainer = function (_a) {\n  var _b;\n  var actionHandler = _a.actionHandler,\n    attachment = _a.attachment,\n    _c = _a.AttachmentActions,\n    AttachmentActions = _c === void 0 ? DefaultAttachmentActions : _c;\n  if (!((_b = attachment.actions) === null || _b === void 0 ? void 0 : _b.length)) return null;\n  return React.createElement(AttachmentActions, __assign({}, attachment, {\n    actionHandler: actionHandler,\n    actions: attachment.actions,\n    id: attachment.id || '',\n    text: attachment.text || ''\n  }));\n};\nfunction getCssDimensionsVariables(url) {\n  var cssVars = {\n    '--original-height': 1000000,\n    '--original-width': 1000000\n  };\n  if (linkify.test(url, 'url')) {\n    var urlParams = new URL(url).searchParams;\n    var oh = Number(urlParams.get('oh'));\n    var ow = Number(urlParams.get('ow'));\n    var originalHeight = oh > 1 ? oh : 1000000;\n    var originalWidth = ow > 1 ? ow : 1000000;\n    cssVars['--original-width'] = originalWidth;\n    cssVars['--original-height'] = originalHeight;\n  }\n  return cssVars;\n}\nexport var GalleryContainer = function (_a) {\n  var attachment = _a.attachment,\n    _b = _a.Gallery,\n    Gallery = _b === void 0 ? DefaultGallery : _b;\n  var imageElements = useRef([]);\n  var imageAttachmentSizeHandler = useChannelStateContext().imageAttachmentSizeHandler;\n  var _c = useState([]),\n    attachmentConfigurations = _c[0],\n    setAttachmentConfigurations = _c[1];\n  useLayoutEffect(function () {\n    if (imageElements.current && imageElements.current.every(function (element) {\n      return !!element;\n    }) && imageAttachmentSizeHandler) {\n      var newConfigurations_1 = [];\n      imageElements.current.forEach(function (element, i) {\n        var config = imageAttachmentSizeHandler(attachment.images[i], element);\n        newConfigurations_1.push(config);\n      });\n      setAttachmentConfigurations(newConfigurations_1);\n    }\n  }, [imageElements, imageAttachmentSizeHandler, attachment]);\n  var images = attachment.images.map(function (image, i) {\n    var _a, _b, _c;\n    return __assign(__assign({}, image), {\n      previewUrl: ((_a = attachmentConfigurations[i]) === null || _a === void 0 ? void 0 : _a.url) || 'about:blank',\n      style: getCssDimensionsVariables(((_b = attachment.images[i]) === null || _b === void 0 ? void 0 : _b.image_url) || ((_c = attachment.images[i]) === null || _c === void 0 ? void 0 : _c.thumb_url) || '')\n    });\n  });\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'gallery'\n  }, React.createElement(Gallery, {\n    images: images || [],\n    innerRefs: imageElements,\n    key: 'gallery'\n  }));\n};\nexport var ImageContainer = function (props) {\n  var attachment = props.attachment,\n    _a = props.Image,\n    Image = _a === void 0 ? DefaultImage : _a;\n  var componentType = 'image';\n  var imageElement = useRef(null);\n  var imageAttachmentSizeHandler = useChannelStateContext().imageAttachmentSizeHandler;\n  var _b = useState(undefined),\n    attachmentConfiguration = _b[0],\n    setAttachmentConfiguration = _b[1];\n  useLayoutEffect(function () {\n    if (imageElement.current && imageAttachmentSizeHandler) {\n      var config = imageAttachmentSizeHandler(attachment, imageElement.current);\n      setAttachmentConfiguration(config);\n    }\n  }, [imageElement, imageAttachmentSizeHandler, attachment]);\n  var imageConfig = __assign(__assign({}, attachment), {\n    previewUrl: (attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url) || 'about:blank',\n    style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || '')\n  });\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Image, __assign({}, imageConfig, {\n      innerRef: imageElement\n    })), React.createElement(AttachmentActionsContainer, __assign({}, props))));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Image, __assign({}, imageConfig, {\n    innerRef: imageElement\n  })));\n};\nexport var CardContainer = function (props) {\n  var attachment = props.attachment,\n    _a = props.Card,\n    Card = _a === void 0 ? DefaultCard : _a;\n  var componentType = 'card';\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Card, __assign({}, attachment)), React.createElement(AttachmentActionsContainer, __assign({}, props))));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Card, __assign({}, attachment)));\n};\nexport var FileContainer = function (_a) {\n  var attachment = _a.attachment,\n    _b = _a.File,\n    File = _b === void 0 ? DefaultFile : _b;\n  if (!attachment.asset_url) return null;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'file'\n  }, React.createElement(File, {\n    attachment: attachment\n  }));\n};\nexport var AudioContainer = function (_a) {\n  var attachment = _a.attachment,\n    _b = _a.Audio,\n    Audio = _b === void 0 ? DefaultAudio : _b;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment'\n  }, React.createElement(Audio, {\n    og: attachment\n  })));\n};\nexport var MediaContainer = function (props) {\n  var _a;\n  var attachment = props.attachment,\n    _b = props.Media,\n    Media = _b === void 0 ? ReactPlayer : _b;\n  var componentType = 'media';\n  var _c = useChannelStateContext(),\n    shouldGenerateVideoThumbnail = _c.shouldGenerateVideoThumbnail,\n    videoAttachmentSizeHandler = _c.videoAttachmentSizeHandler;\n  var videoElement = useRef(null);\n  var _d = useState(),\n    attachmentConfiguration = _d[0],\n    setAttachmentConfiguration = _d[1];\n  useLayoutEffect(function () {\n    if (videoElement.current && videoAttachmentSizeHandler) {\n      var config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n      setAttachmentConfiguration(config);\n    }\n  }, [videoElement, videoAttachmentSizeHandler, attachment]);\n  var content = React.createElement(\"div\", {\n    className: 'str-chat__player-wrapper',\n    \"data-testid\": 'video-wrapper',\n    ref: videoElement,\n    style: getCssDimensionsVariables(attachment.thumb_url || '')\n  }, React.createElement(Media, {\n    className: 'react-player',\n    config: {\n      file: {\n        attributes: {\n          poster: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.thumbUrl\n        }\n      }\n    },\n    controls: true,\n    height: '100%',\n    url: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url,\n    width: '100%'\n  }));\n  return ((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length) ? React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment str-chat__attachment-media'\n  }, content, React.createElement(AttachmentActionsContainer, __assign({}, props)))) : React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, content);\n};\nexport var UnsupportedAttachmentContainer = function (_a) {\n  var attachment = _a.attachment,\n    _b = _a.UnsupportedAttachment,\n    UnsupportedAttachment = _b === void 0 ? DefaultUnsupportedAttachment : _b;\n  return React.createElement(React.Fragment, null, React.createElement(UnsupportedAttachment, {\n    attachment: attachment\n  }));\n};","map":{"version":3,"names":["__assign","React","useLayoutEffect","useRef","useState","ReactPlayer","clsx","linkify","AttachmentActions","DefaultAttachmentActions","Audio","DefaultAudio","Gallery","DefaultGallery","ImageComponent","DefaultImage","Card","DefaultCard","FileAttachment","DefaultFile","NullComponent","DefaultUnsupportedAttachment","isGalleryAttachmentType","isSvgAttachment","useChannelStateContext","AttachmentWithinContainer","_a","_b","_c","attachment","children","componentType","isGAT","extra","image_url","thumb_url","actions","length","classNames","concat","type","createElement","className","AttachmentActionsContainer","actionHandler","id","text","getCssDimensionsVariables","url","cssVars","test","urlParams","URL","searchParams","oh","Number","get","ow","originalHeight","originalWidth","GalleryContainer","imageElements","imageAttachmentSizeHandler","attachmentConfigurations","setAttachmentConfigurations","current","every","element","newConfigurations_1","forEach","i","config","images","push","map","image","previewUrl","style","innerRefs","key","ImageContainer","props","Image","imageElement","undefined","attachmentConfiguration","setAttachmentConfiguration","imageConfig","innerRef","CardContainer","FileContainer","File","asset_url","AudioContainer","og","MediaContainer","Media","shouldGenerateVideoThumbnail","videoAttachmentSizeHandler","videoElement","_d","content","ref","file","attributes","poster","thumbUrl","controls","height","width","UnsupportedAttachmentContainer","UnsupportedAttachment","Fragment"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/Attachment/AttachmentContainer.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { NullComponent as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment, } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport var AttachmentWithinContainer = function (_a) {\n    var _b;\n    var _c;\n    var attachment = _a.attachment, children = _a.children, componentType = _a.componentType;\n    var isGAT = isGalleryAttachmentType(attachment);\n    var extra = '';\n    if (!isGAT) {\n        extra =\n            componentType === 'card' && !(attachment === null || attachment === void 0 ? void 0 : attachment.image_url) && !(attachment === null || attachment === void 0 ? void 0 : attachment.thumb_url)\n                ? 'no-image'\n                : ((_c = attachment === null || attachment === void 0 ? void 0 : attachment.actions) === null || _c === void 0 ? void 0 : _c.length)\n                    ? 'actions'\n                    : '';\n    }\n    var classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', (_b = {},\n        _b[\"str-chat__message-attachment--\".concat(componentType)] = componentType,\n        _b[\"str-chat__message-attachment--\".concat(attachment === null || attachment === void 0 ? void 0 : attachment.type)] = attachment === null || attachment === void 0 ? void 0 : attachment.type,\n        _b[\"str-chat__message-attachment--\".concat(componentType, \"--\").concat(extra)] = componentType && extra,\n        _b['str-chat__message-attachment--svg-image'] = isSvgAttachment(attachment),\n        _b['str-chat__message-attachment-with-actions'] = extra === 'actions',\n        _b));\n    return React.createElement(\"div\", { className: classNames }, children);\n};\nexport var AttachmentActionsContainer = function (_a) {\n    var _b;\n    var actionHandler = _a.actionHandler, attachment = _a.attachment, _c = _a.AttachmentActions, AttachmentActions = _c === void 0 ? DefaultAttachmentActions : _c;\n    if (!((_b = attachment.actions) === null || _b === void 0 ? void 0 : _b.length))\n        return null;\n    return (React.createElement(AttachmentActions, __assign({}, attachment, { actionHandler: actionHandler, actions: attachment.actions, id: attachment.id || '', text: attachment.text || '' })));\n};\nfunction getCssDimensionsVariables(url) {\n    var cssVars = {\n        '--original-height': 1000000,\n        '--original-width': 1000000,\n    };\n    if (linkify.test(url, 'url')) {\n        var urlParams = new URL(url).searchParams;\n        var oh = Number(urlParams.get('oh'));\n        var ow = Number(urlParams.get('ow'));\n        var originalHeight = oh > 1 ? oh : 1000000;\n        var originalWidth = ow > 1 ? ow : 1000000;\n        cssVars['--original-width'] = originalWidth;\n        cssVars['--original-height'] = originalHeight;\n    }\n    return cssVars;\n}\nexport var GalleryContainer = function (_a) {\n    var attachment = _a.attachment, _b = _a.Gallery, Gallery = _b === void 0 ? DefaultGallery : _b;\n    var imageElements = useRef([]);\n    var imageAttachmentSizeHandler = useChannelStateContext().imageAttachmentSizeHandler;\n    var _c = useState([]), attachmentConfigurations = _c[0], setAttachmentConfigurations = _c[1];\n    useLayoutEffect(function () {\n        if (imageElements.current &&\n            imageElements.current.every(function (element) { return !!element; }) &&\n            imageAttachmentSizeHandler) {\n            var newConfigurations_1 = [];\n            imageElements.current.forEach(function (element, i) {\n                var config = imageAttachmentSizeHandler(attachment.images[i], element);\n                newConfigurations_1.push(config);\n            });\n            setAttachmentConfigurations(newConfigurations_1);\n        }\n    }, [imageElements, imageAttachmentSizeHandler, attachment]);\n    var images = attachment.images.map(function (image, i) {\n        var _a, _b, _c;\n        return (__assign(__assign({}, image), { previewUrl: ((_a = attachmentConfigurations[i]) === null || _a === void 0 ? void 0 : _a.url) || 'about:blank', style: getCssDimensionsVariables(((_b = attachment.images[i]) === null || _b === void 0 ? void 0 : _b.image_url) || ((_c = attachment.images[i]) === null || _c === void 0 ? void 0 : _c.thumb_url) || '') }));\n    });\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'gallery' },\n        React.createElement(Gallery, { images: images || [], innerRefs: imageElements, key: 'gallery' })));\n};\nexport var ImageContainer = function (props) {\n    var attachment = props.attachment, _a = props.Image, Image = _a === void 0 ? DefaultImage : _a;\n    var componentType = 'image';\n    var imageElement = useRef(null);\n    var imageAttachmentSizeHandler = useChannelStateContext().imageAttachmentSizeHandler;\n    var _b = useState(undefined), attachmentConfiguration = _b[0], setAttachmentConfiguration = _b[1];\n    useLayoutEffect(function () {\n        if (imageElement.current && imageAttachmentSizeHandler) {\n            var config = imageAttachmentSizeHandler(attachment, imageElement.current);\n            setAttachmentConfiguration(config);\n        }\n    }, [imageElement, imageAttachmentSizeHandler, attachment]);\n    var imageConfig = __assign(__assign({}, attachment), { previewUrl: (attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url) || 'about:blank', style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || '') });\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Image, __assign({}, imageConfig, { innerRef: imageElement })),\n                React.createElement(AttachmentActionsContainer, __assign({}, props)))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Image, __assign({}, imageConfig, { innerRef: imageElement }))));\n};\nexport var CardContainer = function (props) {\n    var attachment = props.attachment, _a = props.Card, Card = _a === void 0 ? DefaultCard : _a;\n    var componentType = 'card';\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Card, __assign({}, attachment)),\n                React.createElement(AttachmentActionsContainer, __assign({}, props)))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Card, __assign({}, attachment))));\n};\nexport var FileContainer = function (_a) {\n    var attachment = _a.attachment, _b = _a.File, File = _b === void 0 ? DefaultFile : _b;\n    if (!attachment.asset_url)\n        return null;\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'file' },\n        React.createElement(File, { attachment: attachment })));\n};\nexport var AudioContainer = function (_a) {\n    var attachment = _a.attachment, _b = _a.Audio, Audio = _b === void 0 ? DefaultAudio : _b;\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'audio' },\n        React.createElement(\"div\", { className: 'str-chat__attachment' },\n            React.createElement(Audio, { og: attachment }))));\n};\nexport var MediaContainer = function (props) {\n    var _a;\n    var attachment = props.attachment, _b = props.Media, Media = _b === void 0 ? ReactPlayer : _b;\n    var componentType = 'media';\n    var _c = useChannelStateContext(), shouldGenerateVideoThumbnail = _c.shouldGenerateVideoThumbnail, videoAttachmentSizeHandler = _c.videoAttachmentSizeHandler;\n    var videoElement = useRef(null);\n    var _d = useState(), attachmentConfiguration = _d[0], setAttachmentConfiguration = _d[1];\n    useLayoutEffect(function () {\n        if (videoElement.current && videoAttachmentSizeHandler) {\n            var config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n            setAttachmentConfiguration(config);\n        }\n    }, [videoElement, videoAttachmentSizeHandler, attachment]);\n    var content = (React.createElement(\"div\", { className: 'str-chat__player-wrapper', \"data-testid\": 'video-wrapper', ref: videoElement, style: getCssDimensionsVariables(attachment.thumb_url || '') },\n        React.createElement(Media, { className: 'react-player', config: { file: { attributes: { poster: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.thumbUrl } } }, controls: true, height: '100%', url: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url, width: '100%' })));\n    return ((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length) ? (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(\"div\", { className: 'str-chat__attachment str-chat__attachment-media' },\n            content,\n            React.createElement(AttachmentActionsContainer, __assign({}, props))))) : (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType }, content));\n};\nexport var UnsupportedAttachmentContainer = function (_a) {\n    var attachment = _a.attachment, _b = _a.UnsupportedAttachment, UnsupportedAttachment = _b === void 0 ? DefaultUnsupportedAttachment : _b;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(UnsupportedAttachment, { attachment: attachment })));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}