{"ast":null,"code":"import { __awaiter, __generator, __spreadArray } from \"tslib\";\nimport { useEffect } from 'react';\nimport uniqBy from 'lodash.uniqby';\nimport { getChannel } from '../../../utils/getChannel';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelVisibleListener = function (setChannels, customHandler) {\n  var client = useChatContext('useChannelVisibleListener').client;\n  useEffect(function () {\n    var handleEvent = function (event) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var channel_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(customHandler && typeof customHandler === 'function')) return [3 /*break*/, 1];\n              customHandler(setChannels, event);\n              return [3 /*break*/, 3];\n            case 1:\n              if (!(event.type && event.channel_type && event.channel_id)) return [3 /*break*/, 3];\n              return [4 /*yield*/, getChannel({\n                client: client,\n                id: event.channel_id,\n                type: event.channel_type\n              })];\n            case 2:\n              channel_1 = _a.sent();\n              setChannels(function (channels) {\n                return uniqBy(__spreadArray([channel_1], channels, true), 'cid');\n              });\n              _a.label = 3;\n            case 3:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n\n    client.on('channel.visible', handleEvent);\n    return function () {\n      client.off('channel.visible', handleEvent);\n    };\n  }, [customHandler]);\n};","map":{"version":3,"names":["__awaiter","__generator","__spreadArray","useEffect","uniqBy","getChannel","useChatContext","useChannelVisibleListener","setChannels","customHandler","client","handleEvent","event","channel_1","_a","label","type","channel_type","channel_id","id","sent","channels","on","off"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/ChannelList/hooks/useChannelVisibleListener.js"],"sourcesContent":["import { __awaiter, __generator, __spreadArray } from \"tslib\";\nimport { useEffect } from 'react';\nimport uniqBy from 'lodash.uniqby';\nimport { getChannel } from '../../../utils/getChannel';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelVisibleListener = function (setChannels, customHandler) {\n    var client = useChatContext('useChannelVisibleListener').client;\n    useEffect(function () {\n        var handleEvent = function (event) { return __awaiter(void 0, void 0, void 0, function () {\n            var channel_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(customHandler && typeof customHandler === 'function')) return [3 /*break*/, 1];\n                        customHandler(setChannels, event);\n                        return [3 /*break*/, 3];\n                    case 1:\n                        if (!(event.type && event.channel_type && event.channel_id)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, getChannel({\n                                client: client,\n                                id: event.channel_id,\n                                type: event.channel_type,\n                            })];\n                    case 2:\n                        channel_1 = _a.sent();\n                        setChannels(function (channels) { return uniqBy(__spreadArray([channel_1], channels, true), 'cid'); });\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        client.on('channel.visible', handleEvent);\n        return function () {\n            client.off('channel.visible', handleEvent);\n        };\n    }, [customHandler]);\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,EAAEC,aAAa,QAAQ,OAAO;AAC7D,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,UAAU,QAAQ,2BAA2B;AACtD,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,OAAO,IAAIC,yBAAyB,GAAG,SAAAA,CAAUC,WAAW,EAAEC,aAAa,EAAE;EACzE,IAAIC,MAAM,GAAGJ,cAAc,CAAC,2BAA2B,CAAC,CAACI,MAAM;EAC/DP,SAAS,CAAC,YAAY;IAClB,IAAIQ,WAAW,GAAG,SAAAA,CAAUC,KAAK,EAAE;MAAE,OAAOZ,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QACtF,IAAIa,SAAS;QACb,OAAOZ,WAAW,CAAC,IAAI,EAAE,UAAUa,EAAE,EAAE;UACnC,QAAQA,EAAE,CAACC,KAAK;YACZ,KAAK,CAAC;cACF,IAAI,EAAEN,aAAa,IAAI,OAAOA,aAAa,KAAK,UAAU,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;cACpFA,aAAa,CAACD,WAAW,EAAEI,KAAK,CAAC;cACjC,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YAC3B,KAAK,CAAC;cACF,IAAI,EAAEA,KAAK,CAACI,IAAI,IAAIJ,KAAK,CAACK,YAAY,IAAIL,KAAK,CAACM,UAAU,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;cACpF,OAAO,CAAC,CAAC,CAAC,WAAWb,UAAU,CAAC;gBACxBK,MAAM,EAAEA,MAAM;gBACdS,EAAE,EAAEP,KAAK,CAACM,UAAU;gBACpBF,IAAI,EAAEJ,KAAK,CAACK;cAChB,CAAC,CAAC,CAAC;YACX,KAAK,CAAC;cACFJ,SAAS,GAAGC,EAAE,CAACM,IAAI,CAAC,CAAC;cACrBZ,WAAW,CAAC,UAAUa,QAAQ,EAAE;gBAAE,OAAOjB,MAAM,CAACF,aAAa,CAAC,CAACW,SAAS,CAAC,EAAEQ,QAAQ,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC;cAAE,CAAC,CAAC;cACtGP,EAAE,CAACC,KAAK,GAAG,CAAC;YAChB,KAAK,CAAC;cAAE,OAAO,CAAC,CAAC,CAAC,WAAW;UACjC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IAAE,CAAC;;IACLL,MAAM,CAACY,EAAE,CAAC,iBAAiB,EAAEX,WAAW,CAAC;IACzC,OAAO,YAAY;MACfD,MAAM,CAACa,GAAG,CAAC,iBAAiB,EAAEZ,WAAW,CAAC;IAC9C,CAAC;EACL,CAAC,EAAE,CAACF,aAAa,CAAC,CAAC;AACvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}