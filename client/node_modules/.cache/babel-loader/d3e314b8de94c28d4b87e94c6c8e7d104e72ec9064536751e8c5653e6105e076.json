{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { Suspense, useState } from 'react';\nimport clsx from 'clsx';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useProcessReactions } from './hooks/useProcessReactions';\nimport { PopperTooltip } from '../Tooltip';\n// todo: merge with ReactionsList/ButtonWithTooltip\n// avoiding breaking change of replacing <span> with <button>\nvar WithTooltip = function (_a) {\n  var children = _a.children,\n    onMouseEnter = _a.onMouseEnter,\n    onMouseLeave = _a.onMouseLeave,\n    title = _a.title;\n  var _b = useState(null),\n    referenceElement = _b[0],\n    setReferenceElement = _b[1];\n  var _c = useEnterLeaveHandlers({\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    }),\n    handleEnter = _c.handleEnter,\n    handleLeave = _c.handleLeave,\n    tooltipVisible = _c.tooltipVisible;\n  var themeVersion = useChatContext('WithTooltip').themeVersion;\n  return React.createElement(React.Fragment, null, themeVersion === '2' && React.createElement(PopperTooltip, {\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, title), React.createElement(\"span\", {\n    onMouseEnter: handleEnter,\n    onMouseLeave: handleLeave,\n    ref: setReferenceElement\n  }, children));\n};\nvar UnMemoizedSimpleReactionsList = function (props) {\n  var propHandleReaction = props.handleReaction,\n    rest = __rest(props, [\"handleReaction\"]);\n  var _a = useEmojiContext('SimpleReactionsList'),\n    Emoji = _a.Emoji,\n    emojiConfig = _a.emojiConfig;\n  var contextHandleReaction = useMessageContext('SimpleReactionsList').handleReaction;\n  var _b = useProcessReactions(__assign({\n      emojiConfig: emojiConfig\n    }, rest)),\n    additionalEmojiProps = _b.additionalEmojiProps,\n    emojiData = _b.emojiData,\n    getEmojiByReactionType = _b.getEmojiByReactionType,\n    iHaveReactedWithReaction = _b.iHaveReactedWithReaction,\n    latestReactions = _b.latestReactions,\n    latestReactionTypes = _b.latestReactionTypes,\n    supportedReactionsArePresent = _b.supportedReactionsArePresent,\n    totalReactionCount = _b.totalReactionCount;\n  var _c = useState(undefined),\n    tooltipReactionType = _c[0],\n    setTooltipReactionType = _c[1];\n  var themeVersion = useChatContext('SimpleReactionsList').themeVersion;\n  var handleReaction = propHandleReaction || contextHandleReaction;\n  if (!latestReactions.length) return null;\n  if (!supportedReactionsArePresent) return null;\n  var getUsersPerReactionType = function (type) {\n    return latestReactions.map(function (reaction) {\n      var _a, _b;\n      if (type && reaction.type === type) {\n        return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n      }\n      return null;\n    }).filter(Boolean);\n  };\n  return React.createElement(\"div\", {\n    className: 'str-chat__message-reactions-container'\n  }, React.createElement(\"ul\", {\n    className: 'str-chat__simple-reactions-list str-chat__message-reactions',\n    \"data-testid\": 'simple-reaction-list',\n    onMouseLeave: function () {\n      return setTooltipReactionType(undefined);\n    }\n  }, latestReactionTypes.map(function (reactionType, i) {\n    var _a;\n    var emojiObject = getEmojiByReactionType(reactionType);\n    var isOwnReaction = iHaveReactedWithReaction(reactionType);\n    var tooltipVisible = emojiObject && tooltipReactionType === (emojiObject === null || emojiObject === void 0 ? void 0 : emojiObject.id);\n    var tooltipContent = (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 : _a.join(', ');\n    return emojiObject ? React.createElement(\"li\", {\n      className: clsx('str-chat__simple-reactions-list-item', {\n        'str-chat__message-reaction-own': isOwnReaction\n      }),\n      key: \"\".concat(emojiObject.id, \"-\").concat(i),\n      onClick: function (event) {\n        return handleReaction(reactionType, event);\n      },\n      onKeyUp: function (event) {\n        return handleReaction(reactionType, event);\n      }\n    }, React.createElement(WithTooltip, {\n      onMouseEnter: function () {\n        return setTooltipReactionType(reactionType);\n      },\n      onMouseLeave: function () {\n        return setTooltipReactionType(undefined);\n      },\n      title: tooltipContent\n    }, React.createElement(Suspense, {\n      fallback: null\n    }, React.createElement(Emoji, __assign({\n      data: emojiData,\n      emoji: emojiObject,\n      size: 13\n    }, additionalEmojiProps))), \"\\u00A0\", tooltipVisible && themeVersion === '1' && React.createElement(\"div\", {\n      className: 'str-chat__simple-reactions-list-tooltip'\n    }, React.createElement(\"div\", {\n      className: 'arrow'\n    }), tooltipContent))) : null;\n  }), React.createElement(\"li\", {\n    className: 'str-chat__simple-reactions-list-item--last-number'\n  }, totalReactionCount)));\n};\nexport var SimpleReactionsList = React.memo(UnMemoizedSimpleReactionsList);","map":{"version":3,"names":["__assign","__rest","React","Suspense","useState","clsx","useChatContext","useEmojiContext","useMessageContext","useEnterLeaveHandlers","useProcessReactions","PopperTooltip","WithTooltip","_a","children","onMouseEnter","onMouseLeave","title","_b","referenceElement","setReferenceElement","_c","handleEnter","handleLeave","tooltipVisible","themeVersion","createElement","Fragment","visible","ref","UnMemoizedSimpleReactionsList","props","propHandleReaction","handleReaction","rest","Emoji","emojiConfig","contextHandleReaction","additionalEmojiProps","emojiData","getEmojiByReactionType","iHaveReactedWithReaction","latestReactions","latestReactionTypes","supportedReactionsArePresent","totalReactionCount","undefined","tooltipReactionType","setTooltipReactionType","length","getUsersPerReactionType","type","map","reaction","user","name","id","filter","Boolean","className","reactionType","i","emojiObject","isOwnReaction","tooltipContent","join","key","concat","onClick","event","onKeyUp","fallback","data","emoji","size","SimpleReactionsList","memo"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/Reactions/SimpleReactionsList.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { Suspense, useState } from 'react';\nimport clsx from 'clsx';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useProcessReactions } from './hooks/useProcessReactions';\nimport { PopperTooltip } from '../Tooltip';\n// todo: merge with ReactionsList/ButtonWithTooltip\n// avoiding breaking change of replacing <span> with <button>\nvar WithTooltip = function (_a) {\n    var children = _a.children, onMouseEnter = _a.onMouseEnter, onMouseLeave = _a.onMouseLeave, title = _a.title;\n    var _b = useState(null), referenceElement = _b[0], setReferenceElement = _b[1];\n    var _c = useEnterLeaveHandlers({\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n    }), handleEnter = _c.handleEnter, handleLeave = _c.handleLeave, tooltipVisible = _c.tooltipVisible;\n    var themeVersion = useChatContext('WithTooltip').themeVersion;\n    return (React.createElement(React.Fragment, null,\n        themeVersion === '2' && (React.createElement(PopperTooltip, { referenceElement: referenceElement, visible: tooltipVisible }, title)),\n        React.createElement(\"span\", { onMouseEnter: handleEnter, onMouseLeave: handleLeave, ref: setReferenceElement }, children)));\n};\nvar UnMemoizedSimpleReactionsList = function (props) {\n    var propHandleReaction = props.handleReaction, rest = __rest(props, [\"handleReaction\"]);\n    var _a = useEmojiContext('SimpleReactionsList'), Emoji = _a.Emoji, emojiConfig = _a.emojiConfig;\n    var contextHandleReaction = useMessageContext('SimpleReactionsList').handleReaction;\n    var _b = useProcessReactions(__assign({ emojiConfig: emojiConfig }, rest)), additionalEmojiProps = _b.additionalEmojiProps, emojiData = _b.emojiData, getEmojiByReactionType = _b.getEmojiByReactionType, iHaveReactedWithReaction = _b.iHaveReactedWithReaction, latestReactions = _b.latestReactions, latestReactionTypes = _b.latestReactionTypes, supportedReactionsArePresent = _b.supportedReactionsArePresent, totalReactionCount = _b.totalReactionCount;\n    var _c = useState(undefined), tooltipReactionType = _c[0], setTooltipReactionType = _c[1];\n    var themeVersion = useChatContext('SimpleReactionsList').themeVersion;\n    var handleReaction = propHandleReaction || contextHandleReaction;\n    if (!latestReactions.length)\n        return null;\n    if (!supportedReactionsArePresent)\n        return null;\n    var getUsersPerReactionType = function (type) {\n        return latestReactions\n            .map(function (reaction) {\n            var _a, _b;\n            if (type && reaction.type === type) {\n                return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n            }\n            return null;\n        })\n            .filter(Boolean);\n    };\n    return (React.createElement(\"div\", { className: 'str-chat__message-reactions-container' },\n        React.createElement(\"ul\", { className: 'str-chat__simple-reactions-list str-chat__message-reactions', \"data-testid\": 'simple-reaction-list', onMouseLeave: function () { return setTooltipReactionType(undefined); } },\n            latestReactionTypes.map(function (reactionType, i) {\n                var _a;\n                var emojiObject = getEmojiByReactionType(reactionType);\n                var isOwnReaction = iHaveReactedWithReaction(reactionType);\n                var tooltipVisible = emojiObject && tooltipReactionType === (emojiObject === null || emojiObject === void 0 ? void 0 : emojiObject.id);\n                var tooltipContent = (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 : _a.join(', ');\n                return emojiObject ? (React.createElement(\"li\", { className: clsx('str-chat__simple-reactions-list-item', {\n                        'str-chat__message-reaction-own': isOwnReaction,\n                    }), key: \"\".concat(emojiObject.id, \"-\").concat(i), onClick: function (event) { return handleReaction(reactionType, event); }, onKeyUp: function (event) { return handleReaction(reactionType, event); } },\n                    React.createElement(WithTooltip, { onMouseEnter: function () { return setTooltipReactionType(reactionType); }, onMouseLeave: function () { return setTooltipReactionType(undefined); }, title: tooltipContent },\n                        React.createElement(Suspense, { fallback: null },\n                            React.createElement(Emoji, __assign({ data: emojiData, emoji: emojiObject, size: 13 }, additionalEmojiProps))),\n                        \"\\u00A0\",\n                        tooltipVisible && themeVersion === '1' && (React.createElement(\"div\", { className: 'str-chat__simple-reactions-list-tooltip' },\n                            React.createElement(\"div\", { className: 'arrow' }),\n                            tooltipContent))))) : null;\n            }),\n            React.createElement(\"li\", { className: 'str-chat__simple-reactions-list-item--last-number' }, totalReactionCount))));\n};\nexport var SimpleReactionsList = React.memo(UnMemoizedSimpleReactionsList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}