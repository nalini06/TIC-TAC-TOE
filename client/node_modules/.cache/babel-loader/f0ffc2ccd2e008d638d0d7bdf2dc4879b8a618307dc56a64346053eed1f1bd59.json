{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var missingUseFlagHandlerParameterWarning = 'useFlagHandler was called but it is missing one or more necessary parameters.';\nexport var useFlagHandler = function (message, notifications) {\n  if (notifications === void 0) {\n    notifications = {};\n  }\n  var client = useChatContext('useFlagHandler').client;\n  var t = useTranslationContext('useFlagHandler').t;\n  return function (event) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var getErrorNotification, getSuccessNotification, notify, successMessage, e_1, errorMessage;\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            event.preventDefault();\n            getErrorNotification = notifications.getErrorNotification, getSuccessNotification = notifications.getSuccessNotification, notify = notifications.notify;\n            if (!client || !t || !notify || !(message === null || message === void 0 ? void 0 : message.id)) {\n              console.warn(missingUseFlagHandlerParameterWarning);\n              return [2 /*return*/];\n            }\n\n            if ((_a = client.user) === null || _a === void 0 ? void 0 : _a.banned) {\n              return [2 /*return*/, notify(t('Error adding flag'), 'error')];\n            }\n            _b.label = 1;\n          case 1:\n            _b.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, client.flagMessage(message.id)];\n          case 2:\n            _b.sent();\n            successMessage = getSuccessNotification && validateAndGetMessage(getSuccessNotification, [message]);\n            notify(successMessage || t('Message has been successfully flagged'), 'success');\n            return [3 /*break*/, 4];\n          case 3:\n            e_1 = _b.sent();\n            errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n            notify(errorMessage || t('Error adding flag'), 'error');\n            return [3 /*break*/, 4];\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n};","map":{"version":3,"names":["__awaiter","__generator","validateAndGetMessage","useChatContext","useTranslationContext","missingUseFlagHandlerParameterWarning","useFlagHandler","message","notifications","client","t","event","getErrorNotification","getSuccessNotification","notify","successMessage","e_1","errorMessage","_a","_b","label","preventDefault","id","console","warn","user","banned","trys","push","flagMessage","sent"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/Message/hooks/useFlagHandler.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var missingUseFlagHandlerParameterWarning = 'useFlagHandler was called but it is missing one or more necessary parameters.';\nexport var useFlagHandler = function (message, notifications) {\n    if (notifications === void 0) { notifications = {}; }\n    var client = useChatContext('useFlagHandler').client;\n    var t = useTranslationContext('useFlagHandler').t;\n    return function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var getErrorNotification, getSuccessNotification, notify, successMessage, e_1, errorMessage;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    event.preventDefault();\n                    getErrorNotification = notifications.getErrorNotification, getSuccessNotification = notifications.getSuccessNotification, notify = notifications.notify;\n                    if (!client || !t || !notify || !(message === null || message === void 0 ? void 0 : message.id)) {\n                        console.warn(missingUseFlagHandlerParameterWarning);\n                        return [2 /*return*/];\n                    }\n                    if ((_a = client.user) === null || _a === void 0 ? void 0 : _a.banned) {\n                        return [2 /*return*/, notify(t('Error adding flag'), 'error')];\n                    }\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, client.flagMessage(message.id)];\n                case 2:\n                    _b.sent();\n                    successMessage = getSuccessNotification && validateAndGetMessage(getSuccessNotification, [message]);\n                    notify(successMessage || t('Message has been successfully flagged'), 'success');\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _b.sent();\n                    errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n                    notify(errorMessage || t('Error adding flag'), 'error');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}