{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { useCallback } from 'react';\nexport var useHandleFileChangeWrapper = function (resetOnChange, handler) {\n  if (resetOnChange === void 0) {\n    resetOnChange = false;\n  }\n  return useCallback(function (_a) {\n    var currentTarget = _a.currentTarget;\n    var files = currentTarget.files;\n    if (!files) return;\n    try {\n      handler === null || handler === void 0 ? void 0 : handler(Array.from(files));\n    } catch (error) {\n      console.error(error);\n    }\n    if (resetOnChange) currentTarget.value = '';\n  }, [handler, resetOnChange]);\n};\nexport function dataTransferItemsHaveFiles(items) {\n  if (!items || !items.length) {\n    return false;\n  }\n  for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n    var item = items_1[_i];\n    if (item.kind === 'file' || item.type === 'text/html') {\n      return true;\n    }\n  }\n  return false;\n}\nexport function dataTransferItemsToFiles(items) {\n  return __awaiter(this, void 0, void 0, function () {\n    var fileLikes, blobPromises, _loop_1, _i, items_2, item;\n    var _this = this;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!items || !items.length) {\n            return [2 /*return*/, []];\n          }\n          fileLikes = getFileLikes(items);\n          if (fileLikes.length) {\n            return [2 /*return*/, fileLikes];\n          }\n          blobPromises = [];\n          _loop_1 = function (item) {\n            if (item.type === 'text/html') {\n              blobPromises.push(new Promise(function (accept) {\n                item.getAsString(function (s) {\n                  return __awaiter(_this, void 0, void 0, function () {\n                    var imagePromises;\n                    return __generator(this, function (_a) {\n                      switch (_a.label) {\n                        case 0:\n                          imagePromises = extractImageSources(s).map(function (src) {\n                            return getImageSource(fileLikes, src);\n                          });\n                          return [4 /*yield*/, Promise.all(imagePromises)];\n                        case 1:\n                          _a.sent();\n                          accept();\n                          return [2 /*return*/];\n                      }\n                    });\n                  });\n                });\n              }));\n            }\n          };\n\n          for (_i = 0, items_2 = items; _i < items_2.length; _i++) {\n            item = items_2[_i];\n            _loop_1(item);\n          }\n          return [4 /*yield*/, Promise.all(blobPromises)];\n        case 1:\n          _a.sent();\n          return [2 /*return*/, fileLikes];\n      }\n    });\n  });\n}\nfunction getFileLikes(items) {\n  var fileLikes = [];\n  for (var _i = 0, items_3 = items; _i < items_3.length; _i++) {\n    var item = items_3[_i];\n    if (item.kind === 'file') {\n      var file = item.getAsFile();\n      if (file) {\n        fileLikes.push(file);\n      }\n    }\n  }\n  return fileLikes;\n}\nfunction getImageSource(fileLikes, src) {\n  return __awaiter(this, void 0, void 0, function () {\n    var res, e_1, contentType, buf, blob;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 2,, 3]);\n          return [4 /*yield*/, fetch(src)];\n        case 1:\n          res = _a.sent();\n          return [3 /*break*/, 3];\n        case 2:\n          e_1 = _a.sent();\n          return [2 /*return*/];\n        case 3:\n          contentType = res.headers.get('Content-type') || 'application/octet-stream';\n          return [4 /*yield*/, res.arrayBuffer()];\n        case 4:\n          buf = _a.sent();\n          blob = new Blob([buf], {\n            type: contentType\n          });\n          fileLikes.push(blob);\n          return [2 /*return*/];\n      }\n    });\n  });\n}\n\nvar extractImageSources = function (s) {\n  var imageTags = new DOMParser().parseFromString(s, 'text/html').getElementsByTagName('img');\n  return Array.from(imageTags, function (tag) {\n    return tag.src;\n  }).filter(function (tag) {\n    return tag;\n  });\n};","map":{"version":3,"names":["__awaiter","__generator","useCallback","useHandleFileChangeWrapper","resetOnChange","handler","_a","currentTarget","files","Array","from","error","console","value","dataTransferItemsHaveFiles","items","length","_i","items_1","item","kind","type","dataTransferItemsToFiles","fileLikes","blobPromises","_loop_1","items_2","_this","label","getFileLikes","push","Promise","accept","getAsString","s","imagePromises","extractImageSources","map","src","getImageSource","all","sent","items_3","file","getAsFile","res","e_1","contentType","buf","blob","trys","fetch","headers","get","arrayBuffer","Blob","imageTags","DOMParser","parseFromString","getElementsByTagName","tag","filter"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/ReactFileUtilities/utils.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { useCallback } from 'react';\nexport var useHandleFileChangeWrapper = function (resetOnChange, handler) {\n    if (resetOnChange === void 0) { resetOnChange = false; }\n    return useCallback(function (_a) {\n        var currentTarget = _a.currentTarget;\n        var files = currentTarget.files;\n        if (!files)\n            return;\n        try {\n            handler === null || handler === void 0 ? void 0 : handler(Array.from(files));\n        }\n        catch (error) {\n            console.error(error);\n        }\n        if (resetOnChange)\n            currentTarget.value = '';\n    }, [handler, resetOnChange]);\n};\nexport function dataTransferItemsHaveFiles(items) {\n    if (!items || !items.length) {\n        return false;\n    }\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n        var item = items_1[_i];\n        if (item.kind === 'file' || item.type === 'text/html') {\n            return true;\n        }\n    }\n    return false;\n}\nexport function dataTransferItemsToFiles(items) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fileLikes, blobPromises, _loop_1, _i, items_2, item;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!items || !items.length) {\n                        return [2 /*return*/, []];\n                    }\n                    fileLikes = getFileLikes(items);\n                    if (fileLikes.length) {\n                        return [2 /*return*/, fileLikes];\n                    }\n                    blobPromises = [];\n                    _loop_1 = function (item) {\n                        if (item.type === 'text/html') {\n                            blobPromises.push(new Promise(function (accept) {\n                                item.getAsString(function (s) { return __awaiter(_this, void 0, void 0, function () {\n                                    var imagePromises;\n                                    return __generator(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0:\n                                                imagePromises = extractImageSources(s).map(function (src) {\n                                                    return getImageSource(fileLikes, src);\n                                                });\n                                                return [4 /*yield*/, Promise.all(imagePromises)];\n                                            case 1:\n                                                _a.sent();\n                                                accept();\n                                                return [2 /*return*/];\n                                        }\n                                    });\n                                }); });\n                            }));\n                        }\n                    };\n                    for (_i = 0, items_2 = items; _i < items_2.length; _i++) {\n                        item = items_2[_i];\n                        _loop_1(item);\n                    }\n                    return [4 /*yield*/, Promise.all(blobPromises)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, fileLikes];\n            }\n        });\n    });\n}\nfunction getFileLikes(items) {\n    var fileLikes = [];\n    for (var _i = 0, items_3 = items; _i < items_3.length; _i++) {\n        var item = items_3[_i];\n        if (item.kind === 'file') {\n            var file = item.getAsFile();\n            if (file) {\n                fileLikes.push(file);\n            }\n        }\n    }\n    return fileLikes;\n}\nfunction getImageSource(fileLikes, src) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res, e_1, contentType, buf, blob;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, fetch(src)];\n                case 1:\n                    res = _a.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    e_1 = _a.sent();\n                    return [2 /*return*/];\n                case 3:\n                    contentType = res.headers.get('Content-type') || 'application/octet-stream';\n                    return [4 /*yield*/, res.arrayBuffer()];\n                case 4:\n                    buf = _a.sent();\n                    blob = new Blob([buf], { type: contentType });\n                    fileLikes.push(blob);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nvar extractImageSources = function (s) {\n    var imageTags = new DOMParser().parseFromString(s, 'text/html').getElementsByTagName('img');\n    return Array.from(imageTags, function (tag) { return tag.src; }).filter(function (tag) { return tag; });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}