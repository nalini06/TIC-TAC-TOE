{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChannelActionContext } from '../../../context/ChannelActionContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var useDeleteHandler = function (message, notifications) {\n  if (notifications === void 0) {\n    notifications = {};\n  }\n  var getErrorNotification = notifications.getErrorNotification,\n    notify = notifications.notify;\n  var updateMessage = useChannelActionContext('useDeleteHandler').updateMessage;\n  var client = useChatContext('useDeleteHandler').client;\n  var t = useTranslationContext('useDeleteHandler').t;\n  return function (event) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var data, e_1, errorMessage;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            event.preventDefault();\n            if (!(message === null || message === void 0 ? void 0 : message.id) || !client || !updateMessage) {\n              return [2 /*return*/];\n            }\n\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, client.deleteMessage(message.id)];\n          case 2:\n            data = _a.sent();\n            updateMessage(data.message);\n            return [3 /*break*/, 4];\n          case 3:\n            e_1 = _a.sent();\n            errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n            if (notify) notify(errorMessage || t('Error deleting message'), 'error');\n            return [3 /*break*/, 4];\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n};","map":{"version":3,"names":["__awaiter","__generator","validateAndGetMessage","useChannelActionContext","useChatContext","useTranslationContext","useDeleteHandler","message","notifications","getErrorNotification","notify","updateMessage","client","t","event","data","e_1","errorMessage","_a","label","preventDefault","id","trys","push","deleteMessage","sent"],"sources":["C:/Users/praka/OneDrive/Desktop/Tic-Tac-Toe/client/node_modules/stream-chat-react/dist/components/Message/hooks/useDeleteHandler.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChannelActionContext } from '../../../context/ChannelActionContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var useDeleteHandler = function (message, notifications) {\n    if (notifications === void 0) { notifications = {}; }\n    var getErrorNotification = notifications.getErrorNotification, notify = notifications.notify;\n    var updateMessage = useChannelActionContext('useDeleteHandler').updateMessage;\n    var client = useChatContext('useDeleteHandler').client;\n    var t = useTranslationContext('useDeleteHandler').t;\n    return function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var data, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    event.preventDefault();\n                    if (!(message === null || message === void 0 ? void 0 : message.id) || !client || !updateMessage) {\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, client.deleteMessage(message.id)];\n                case 2:\n                    data = _a.sent();\n                    updateMessage(data.message);\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _a.sent();\n                    errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n                    if (notify)\n                        notify(errorMessage || t('Error deleting message'), 'error');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,SAASC,qBAAqB,QAAQ,UAAU;AAChD,SAASC,uBAAuB,QAAQ,uCAAuC;AAC/E,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,qBAAqB,QAAQ,qCAAqC;AAC3E,OAAO,IAAIC,gBAAgB,GAAG,SAAAA,CAAUC,OAAO,EAAEC,aAAa,EAAE;EAC5D,IAAIA,aAAa,KAAK,KAAK,CAAC,EAAE;IAAEA,aAAa,GAAG,CAAC,CAAC;EAAE;EACpD,IAAIC,oBAAoB,GAAGD,aAAa,CAACC,oBAAoB;IAAEC,MAAM,GAAGF,aAAa,CAACE,MAAM;EAC5F,IAAIC,aAAa,GAAGR,uBAAuB,CAAC,kBAAkB,CAAC,CAACQ,aAAa;EAC7E,IAAIC,MAAM,GAAGR,cAAc,CAAC,kBAAkB,CAAC,CAACQ,MAAM;EACtD,IAAIC,CAAC,GAAGR,qBAAqB,CAAC,kBAAkB,CAAC,CAACQ,CAAC;EACnD,OAAO,UAAUC,KAAK,EAAE;IAAE,OAAOd,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;MAC3E,IAAIe,IAAI,EAAEC,GAAG,EAAEC,YAAY;MAC3B,OAAOhB,WAAW,CAAC,IAAI,EAAE,UAAUiB,EAAE,EAAE;QACnC,QAAQA,EAAE,CAACC,KAAK;UACZ,KAAK,CAAC;YACFL,KAAK,CAACM,cAAc,CAAC,CAAC;YACtB,IAAI,EAAEb,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACc,EAAE,CAAC,IAAI,CAACT,MAAM,IAAI,CAACD,aAAa,EAAE;cAC9F,OAAO,CAAC,CAAC,CAAC,WAAW;YACzB;;YACAO,EAAE,CAACC,KAAK,GAAG,CAAC;UAChB,KAAK,CAAC;YACFD,EAAE,CAACI,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAI,CAAC,CAAC,CAAC;YACzB,OAAO,CAAC,CAAC,CAAC,WAAWX,MAAM,CAACY,aAAa,CAACjB,OAAO,CAACc,EAAE,CAAC,CAAC;UAC1D,KAAK,CAAC;YACFN,IAAI,GAAGG,EAAE,CAACO,IAAI,CAAC,CAAC;YAChBd,aAAa,CAACI,IAAI,CAACR,OAAO,CAAC;YAC3B,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC3B,KAAK,CAAC;YACFS,GAAG,GAAGE,EAAE,CAACO,IAAI,CAAC,CAAC;YACfR,YAAY,GAAGR,oBAAoB,IAAIP,qBAAqB,CAACO,oBAAoB,EAAE,CAACF,OAAO,CAAC,CAAC;YAC7F,IAAIG,MAAM,EACNA,MAAM,CAACO,YAAY,IAAIJ,CAAC,CAAC,wBAAwB,CAAC,EAAE,OAAO,CAAC;YAChE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC3B,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC,WAAW;QACjC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EAAE,CAAC;AACT,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}